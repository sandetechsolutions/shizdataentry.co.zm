<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Starkey Hearing Institute Zambia Mission Site Guide</title>
  
  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css">
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: linear-gradient(to bottom, #001f3f, #0074D9);
      color: white;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }

    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: #003366;
      padding: 10px 20px;
      color: white;
    }

    /* Logo (top-left) */
    #logo {
      max-height: 60px;
    }

    /* Title (center) */
    #title {
      flex: 1;
      text-align: center;
      font-size: 22px;
      font-weight: bold;
      letter-spacing: 2px;
    }

    /* Calendar & Time (top-right) */
    #datetime {
      text-align: right;
      font-size: 14px;
    }

    #search-bar {
      display: flex;
      justify-content: center;
      margin: 10px;
    }

    #search-input {
      padding: 8px;
      width: 300px;
      border-radius: 5px;
      border: none;
    }

    #map {
      flex-grow: 1;
      height: 100%;
      width: 100%;
    }

    footer {
      background: #003366;
      text-align: center;
      padding: 8px;
      font-size: 14px;
    }

    .leaflet-container {
      background: #001f3f;
    }
  </style>
</head>
<body>
  <!-- Header with Logo, Title, Date/Time -->
  <header>
    <!-- Logo -->
    <img src="shi.png" alt="Logo" id="logo">

    <!-- Title -->
    <div id="title">Starkey Hearing Institute Zambia Mission Site Guide</div>

    <!-- Date and Time -->
    <div id="datetime">
      <div id="calendar"></div>
      <div id="clock"></div>
    </div>
  </header>

  <!-- Search Bar -->
  <div id="search-bar">
    <input type="text" id="search-input" placeholder="Search for a country...">
    <button onclick="searchCountry()">Search</button>
  </div>

  <!-- Map -->
  <div id="map"></div>

  <!-- Footer -->
  <footer>
    Â© Starkey Hearing Institute Zambia 2025
  </footer>

  <!-- Leaflet JS -->
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <!-- Leaflet GeoSearch -->
  <script src="https://unpkg.com/leaflet-geosearch/dist/bundle.min.js"></script>

  <script>
    // Initialize Map
    const map = L.map('map').setView([0, 20], 2);

    // Tile Layer
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '&copy; OpenStreetMap contributors'
    }).addTo(map);

    // Predefined African Countries with direct HTML links
    const countries = [
     { name: "Algeria", coords: [28.0339, 1.6596], link: "al.html" },
  { name: "Angola", coords: [-11.2027, 17.8739], link: "countries/angola.html" },
  { name: "Benin", coords: [9.3077, 2.3158], link: "countries/benin.html" },
  { name: "Botswana", coords: [-22.3285, 24.6849], link: "countries/botswana.html" },
  { name: "Burkina Faso", coords: [12.2383, -1.5616], link: "countries/burkinafaso.html" },
  { name: "Burundi", coords: [-3.3731, 29.9189], link: "countries/burundi.html" },
  { name: "Cabo Verde", coords: [16.5388, -23.0418], link: "countries/caboverde.html" },
  { name: "Cameroon", coords: [7.3697, 12.3547], link: "countries/cameroon.html" },
  { name: "Central African Republic", coords: [6.6111, 20.9394], link: "countries/centralafricanrepublic.html" },
  { name: "Chad", coords: [15.4542, 18.7322], link: "countries/chad.html" },
  { name: "Comoros", coords: [-11.6455, 43.3333], link: "countries/comoros.html" },
  { name: "Congo (Democratic Republic)", coords: [-4.0383, 21.7587], link: "countries/drc.html" },
  { name: "Congo (Republic)", coords: [-0.2280, 15.8277], link: "countries/congo.html" },
  { name: "Djibouti", coords: [11.8251, 42.5903], link: "countries/djibouti.html" },
  { name: "Egypt", coords: [26.8206, 30.8025], link: "countries/egypt.html" },
  { name: "Equatorial Guinea", coords: [1.6508, 10.2679], link: "countries/equatorialguinea.html" },
  { name: "Eritrea", coords: [15.1794, 39.7823], link: "countries/eritrea.html" },
  { name: "Eswatini", coords: [-26.5225, 31.4659], link: "countries/eswatini.html" },
  { name: "Ethiopia", coords: [9.145, 40.4897], link: "countries/ethiopia.html" },
  { name: "Gabon", coords: [-0.8037, 11.6094], link: "countries/gabon.html" },
  { name: "Gambia", coords: [13.4432, -15.3101], link: "countries/gambia.html" },
  { name: "Ghana", coords: [7.9465, -1.0232], link: "countries/ghana.html" },
  { name: "Guinea", coords: [9.9456, -9.6966], link: "countries/guinea.html" },
  { name: "Guinea-Bissau", coords: [11.8037, -15.1804], link: "countries/guineabissau.html" },
  { name: "Ivory Coast", coords: [7.5400, -5.5471], link: "countries/ivorycoast.html" },
  { name: "Kenya", coords: [0.0236, 37.9062], link: "countries/kenya.html" },
  { name: "Lesotho", coords: [-29.6100, 28.2336], link: "countries/lesotho.html" },
  { name: "Liberia", coords: [6.4281, -9.4295], link: "countries/liberia.html" },
  { name: "Libya", coords: [26.3351, 17.2283], link: "countries/libya.html" },
  { name: "Madagascar", coords: [-18.7669, 46.8691], link: "countries/madagascar.html" },
  { name: "Malawi", coords: [-13.2543, 34.3015], link: "countries/malawi.html" },
  { name: "Mali", coords: [17.5707, -3.9962], link: "countries/mali.html" },
  { name: "Mauritania", coords: [21.0079, -10.9408], link: "countries/mauritania.html" },
  { name: "Mauritius", coords: [-20.3484, 57.5522], link: "countries/mauritius.html" },
  { name: "Morocco", coords: [31.7917, -7.0926], link: "countries/morocco.html" },
  { name: "Mozambique", coords: [-18.6657, 35.5296], link: "countries/mozambique.html" },
  { name: "Namibia", coords: [-22.9576, 18.4904], link: "countries/namibia.html" },
  { name: "Niger", coords: [17.6078, 8.0817], link: "countries/niger.html" },
  { name: "Nigeria", coords: [9.0820, 8.6753], link: "countries/nigeria.html" },
  { name: "Rwanda", coords: [-1.9403, 29.8739], link: "countries/rwanda.html" },
  { name: "Sao Tome and Principe", coords: [0.1864, 6.6131], link: "countries/saotome.html" },
  { name: "Senegal", coords: [14.4974, -14.4524], link: "countries/senegal.html" },
  { name: "Seychelles", coords: [-4.6796, 55.4920], link: "countries/seychelles.html" },
  { name: "Sierra Leone", coords: [8.4606, -11.7799], link: "countries/sierraleone.html" },
  { name: "Somalia", coords: [5.1521, 46.1996], link: "countries/somalia.html" },
  { name: "South Africa", coords: [-30.5595, 22.9375], link: "countries/southafrica.html" },
  { name: "South Sudan", coords: [6.8770, 31.3070], link: "countries/southsudan.html" },
  { name: "Sudan", coords: [12.8628, 30.2176], link: "countries/sudan.html" },
  { name: "Tanzania", coords: [-6.3690, 34.8888], link: "countries/tanzania.html" },
  { name: "Togo", coords: [8.6195, 0.8248], link: "countries/togo.html" },
  { name: "Tunisia", coords: [33.8869, 9.5375], link: "countries/tunisia.html" },
  { name: "Uganda", coords: [1.3733, 32.2903], link: "countries/uganda.html" },
  { name: "Zambia", coords: [-15.3875, 28.3228], link: "za.html" },
  { name: "Zimbabwe", coords: [-19.0154, 29.1549], link: "zi.html" }
];

    // Add markers for predefined countries
    countries.forEach(c => {
      L.marker(c.coords).addTo(map)
        .bindPopup(`<b>${c.name}</b><br><a href="${c.link}" style="color:blue;" target="_blank">Go to ${c.name}</a>`);
    });

    // Search Functionality
    const provider = new window.GeoSearch.OpenStreetMapProvider();

    async function searchCountry() {
      const query = document.getElementById('search-input').value.trim();
      if (!query) return;

      const results = await provider.search({ query });

      if (results.length > 0) {
        const { x, y, label } = results[0];
        map.setView([y, x], 5);

        // Check if searched country is one of our predefined ones
        const found = countries.find(c => c.name.toLowerCase() === query.toLowerCase());

        let link;
        if (found) {
          link = `<a href="${found.link}" target="_blank" style="color:blue;">Go to ${found.name}</a>`;
        } else {
          link = `<a href="country.html?name=${encodeURIComponent(label)}" target="_blank" style="color:blue;">Go to ${label}</a>`;
        }

        L.marker([y, x]).addTo(map)
          .bindPopup(`<b>${label}</b><br>${link}`)
          .openPopup();
      } else {
        alert("Country not found.");
      }
    }

    // Calendar + Live Clock
    function updateDateTime() {
      const now = new Date();

      // Calendar (Day Month Year)
      const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
      document.getElementById("calendar").textContent = now.toLocaleDateString("en-US", options);

      // Clock (HH:MM:SS)
      document.getElementById("clock").textContent = now.toLocaleTimeString("en-US");
    }

    setInterval(updateDateTime, 1000);
    updateDateTime();
  </script>
</body>
</html>

